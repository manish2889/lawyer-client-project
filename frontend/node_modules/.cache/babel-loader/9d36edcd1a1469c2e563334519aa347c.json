{"ast":null,"code":"var _jsxFileName = \"/home/deekshith/Desktop/lawyer-client-project-main/frontend/src/pages/Admin_page/AdminLawyer.jsx\";\nimport { useContext, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport React from 'react';\nimport DetailsCom from \"../../components/AdminCompo/lawyersDetails\";\nimport LawyerContext from \"../../context/Admin_page/lawyercontext/lawyerContext\";\nimport \"../../components/AdminCompo/lawyer.css\";\nimport Headers from \"../../components/AdminCompo/Headers\";\nimport SearchBar from \"../../components/AdminCompo/SearchCompo\";\nimport Loading from \"../../components/AdminCompo/Loading\";\nimport \"./admin_css/AdminDashboard.css\";\nimport { notification } from \"antd\";\nimport HOST from \"../../utils/baseUrl\";\n// import NoDataHere from \"../../components/AdminCompo/NoDataHere\";\n\nconst AdminLawyer = () => {\n  const [AllLawyers, setAllLawyers] = useState([]);\n  const [api, contextHolder] = notification.useNotification();\n  const context = useContext(LawyerContext);\n  const {\n    getLawyer,\n    err,\n    lawyers,\n    deletefun\n  } = context;\n  const [query, setQuery] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [option, setOption] = useState(\"name\");\n  const openNotification = msg => {\n    api.success({\n      message: msg,\n      description: '\"Lawyer Has been Deleted Successfully\".',\n      placement: \"top\"\n    });\n  };\n  async function GetAllLawyers() {\n    try {\n      let res = await fetch(`${HOST}/admin/getAllLawyers`);\n      let data = await res.json();\n      console.log(data);\n      setAllLawyers(data);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  }\n  const keys = [\"name\", \"profession\", \"experience\"];\n  // const [currentPage, setCurrentPage] = useState(1);\n  // const userPerpage = 4;\n  let data = [...AllLawyers];\n\n  // const totalPages = Math.ceil(data.length / userPerpage);\n\n  // function sliceTodos() {\n  //   const indexOfLastTodo = currentPage * userPerpage;\n  //   const indexOfFirstTodo = indexOfLastTodo - userPerpage;\n  //   return data.slice(indexOfFirstTodo, indexOfLastTodo);\n  // }\n  // console.log(lawyers);\n  // const handlePageChange = (page) => {\n  //   setCurrentPage(page);\n  // };\n  const search = data => {\n    return data.filter(item => {\n      if (!query) {\n        return item;\n      } else {\n        return keys.some(() => item[option].toLowerCase().includes(query));\n      }\n    });\n  };\n  const deletEele = async id => {\n    setLoading(true);\n    try {\n      let res = await fetch(`${HOST}/admin/deleteLawyer/${id}`, {\n        method: \"DELETE\"\n      });\n      let data = await res.json();\n      // console.log(data);\n      openNotification(\"Success\");\n      GetAllLawyers();\n    } catch (error) {\n      console.log(error);\n      alert(error.message);\n      setLoading(false);\n    }\n  };\n  function SearchLawyer() {\n    setLoading(true);\n    fetch(`${HOST}/lawyer/searchLawyer`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        type: option || \"\",\n        value: (query === null || query === void 0 ? void 0 : query.toLowerCase()) || \"\"\n      })\n    }).then(data => data.json()).then(data => setAllLawyers(data.data));\n    setLoading(false);\n  }\n  useEffect(() => {\n    // GetAllLawyers();\n    getLawyer();\n    SearchLawyer();\n  }, []);\n\n  //! =============> DEBOUNCE\n  function debounce(func, timeout = 100) {\n    let timer;\n    return (...args) => {\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        func.apply(this, args);\n      }, timeout);\n    };\n  }\n  function saveInput(e) {\n    setQuery(e.target.value);\n    SearchLawyer();\n  }\n  const processChange = debounce(e => saveInput(e));\n  //! ===================================================>\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }\n  }, contextHolder, /*#__PURE__*/React.createElement(Headers, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SearchBar, {\n    name: \"Lawyers\",\n    query: query,\n    setQuery: setQuery,\n    setOption: setOption,\n    processChange: processChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contentConatiner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DetailsCom, {\n    users: AllLawyers,\n    deletEele: deletEele,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }))));\n};\nexport default AdminLawyer;\n\n// deletEele={deletEele}","map":{"version":3,"names":["useContext","useState","useEffect","React","DetailsCom","LawyerContext","Headers","SearchBar","Loading","notification","HOST","AdminLawyer","AllLawyers","setAllLawyers","api","contextHolder","useNotification","context","getLawyer","err","lawyers","deletefun","query","setQuery","loading","setLoading","option","setOption","openNotification","msg","success","message","description","placement","GetAllLawyers","res","fetch","data","json","console","log","error","keys","search","filter","item","some","toLowerCase","includes","deletEele","id","method","alert","SearchLawyer","headers","body","JSON","stringify","type","value","then","debounce","func","timeout","timer","args","clearTimeout","setTimeout","apply","saveInput","e","target","processChange","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","name","className","users"],"sources":["/home/deekshith/Desktop/lawyer-client-project-main/frontend/src/pages/Admin_page/AdminLawyer.jsx"],"sourcesContent":["import { useContext, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport React from 'react';\nimport DetailsCom from \"../../components/AdminCompo/lawyersDetails\";\nimport LawyerContext from \"../../context/Admin_page/lawyercontext/lawyerContext\";\nimport \"../../components/AdminCompo/lawyer.css\";\nimport Headers from \"../../components/AdminCompo/Headers\";\nimport SearchBar from \"../../components/AdminCompo/SearchCompo\";\nimport Loading from \"../../components/AdminCompo/Loading\";\nimport \"./admin_css/AdminDashboard.css\";\nimport { notification } from \"antd\";\nimport HOST from \"../../utils/baseUrl\";\n// import NoDataHere from \"../../components/AdminCompo/NoDataHere\";\n\nconst AdminLawyer = () => {\n  const [AllLawyers, setAllLawyers] = useState([]);\n  const [api, contextHolder] = notification.useNotification();\n  const context = useContext(LawyerContext);\n  const { getLawyer, err, lawyers, deletefun } = context;\n  const [query, setQuery] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [option, setOption] = useState(\"name\");\n\n  const openNotification = (msg) => {\n    api.success({\n      message: msg,\n      description: '\"Lawyer Has been Deleted Successfully\".',\n      placement: \"top\",\n    });\n  };\n\n  async function GetAllLawyers() {\n    try {\n      let res = await fetch(`${HOST}/admin/getAllLawyers`);\n      let data = await res.json();\n      console.log(data);\n      setAllLawyers(data);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  }\n\n  const keys = [\"name\", \"profession\", \"experience\"];\n  // const [currentPage, setCurrentPage] = useState(1);\n  // const userPerpage = 4;\n  let data = [...AllLawyers];\n\n  // const totalPages = Math.ceil(data.length / userPerpage);\n\n  // function sliceTodos() {\n  //   const indexOfLastTodo = currentPage * userPerpage;\n  //   const indexOfFirstTodo = indexOfLastTodo - userPerpage;\n  //   return data.slice(indexOfFirstTodo, indexOfLastTodo);\n  // }\n  // console.log(lawyers);\n  // const handlePageChange = (page) => {\n  //   setCurrentPage(page);\n  // };\n  const search = (data) => {\n    return data.filter((item) => {\n      if (!query) {\n        return item;\n      } else {\n        return keys.some(() => item[option].toLowerCase().includes(query));\n      }\n    });\n  };\n\n  const deletEele = async (id) => {\n    setLoading(true);\n    try {\n      let res = await fetch(`${HOST}/admin/deleteLawyer/${id}`, {\n        method: \"DELETE\",\n      });\n      let data = await res.json();\n      // console.log(data);\n      openNotification(\"Success\");\n      GetAllLawyers();\n    } catch (error) {\n      console.log(error);\n      alert(error.message);\n      setLoading(false);\n    }\n  };\n\n  function SearchLawyer() {\n    setLoading(true);\n    fetch(`${HOST}/lawyer/searchLawyer`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        type: option || \"\",\n        value: query?.toLowerCase() || \"\",\n      }),\n    })\n      .then((data) => data.json())\n      .then((data) => setAllLawyers(data.data));\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    // GetAllLawyers();\n    getLawyer();\n    SearchLawyer();\n  }, []);\n\n  //! =============> DEBOUNCE\n  function debounce(func, timeout = 100) {\n    let timer;\n    return (...args) => {\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        func.apply(this, args);\n      }, timeout);\n    };\n  }\n  function saveInput(e) {\n    setQuery(e.target.value);\n    SearchLawyer();\n  }\n  const processChange = debounce((e) => saveInput(e));\n  //! ===================================================>\n\n  return (\n    <div>\n      {contextHolder}\n      <Headers />\n      <SearchBar\n        name=\"Lawyers\"\n        query={query}\n        setQuery={setQuery}\n        setOption={setOption}\n        processChange={processChange}\n      />\n      <div>\n        {loading ? (\n          <Loading />\n        ) : (\n          <div className=\"contentConatiner\">\n            {/* <DetailsCom users={sliceTodos()} deletEele={deletEele} /> */}\n            <DetailsCom users={AllLawyers} deletEele={deletEele} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default AdminLawyer;\n\n// deletEele={deletEele}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}